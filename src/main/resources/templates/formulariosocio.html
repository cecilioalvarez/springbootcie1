<html>

<head>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js"
        integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy"
        crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.7.1.js"
        integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4=" crossorigin="anonymous"></script>
    <style>
        .novalido {
            display: inline;
            color: red;
        }

        .valido {
            display: none;
        }
    </style>
    <script type="text/javascript">

        $(function () {
            //selectores. este es el id
            $("#f").submit(function (e) {

                e.preventDefault(); //bloquea
                //alert("no permitimos esto")
                let nombretxt = $("#nombre").val();
                if (!validarNombre(nombretxt))
                $("#nombre").next().removeClass("valido").addClass("novalido");
            });

            $("#nombre").on("input", function (e) {
                let $cajaNombre= $(this);
            
                if (!validarNombre($cajaNombre.val()))
                 $cajaNombre.next().removeClass().addClass("novalido");
                else $cajaNombre.next().removeClass().addClass("valido");
            });
        });

        function validarNombre(nombretxt) {
            return nombretxt.length >= 3 && nombretxt.length <= 10? true:false;
        }



        $(function () {
            //selectores. este es el id
            $("#f").submit(function (e) {

                e.preventDefault(); //bloquea
                let apellidostxt = $("#apellidos").val();
                if (!validarApellidos(apellidostxt))
                $("#apellidos").next().removeClass("valido").addClass("novalido");
            });

            $("#apellidos").on("input", function (e) {
                let $cajaApellidos= $(this);
            
                if (!validarApellidos($cajaApellidos.val()))
                 $cajaApellidos.next().removeClass().addClass("novalido");
                else $cajaApellidos.next().removeClass().addClass("valido");
            });
        });

        function validarApellidos(apellidostxt) {
            return apellidostxt.length >= 3 && apellidostxt.length <= 10? true:false;
        }

    </script>
</head>

<body>
    <h1 class="text-center"> Socio nuevo</h1>

    <div class="container">

        <form id="f" method="post" action="insertarsocio">
            <div class="form-group">

                <label for="nombre" class="form-label"> Nombre: </label>
                <input type="text" class="form-control" id="nombre" name="nombre" />
                <span class="valido"> el nombre tiene que ser entre 3 y 10 caracteres</span>
            </div>

            <div class="form-group">
                <label for="apellidos" class="form-label"> Apellidos:
                </label>
                <input type="text" class="form-control" id="apellidos" name="apellidos" />
                <span class="valido"> el apellido tiene que ser entre 3 y 10 caracteres</span>
            </div>

            <div class="form-group">
                <label for="edad" class="form-label"> Edad: </label>
                <input type="text" class="form-control" id="edad" name="edad" />
            </div>
            <div>
                <input type="submit" class="btn btn btn-success" value="AÃ±adir" />
            </div>
        </form>
    </div>

</body>

</html>